{"version":3,"sources":["webpack:///./src/views/Login.vue?28fe","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?50b2","webpack:///./src/assets/log.png"],"names":["class","_createElementVNode","src","_imports_0","alt","_createElementBlock","_hoisted_1","_hoisted_2","type","placeholder","$setup","phone","password","onClick","_createVNode","_component_router_link","to","Login","router","useRouter","data","reactive","login","async","alert","res","axios","method","url","console","log","code","localStorage","islogin","token","userid","account","id","push","message","setup","__exports__","render","module","exports"],"mappings":"8HAAA,W,4KCCOA,MAAM,Q,QACTC,gCAAoC,OAA/BC,IAAAC,IAAwBC,IAAI,I,uHADnCC,gCAMM,MANNC,EAMM,CALJC,EAAoC,4BACpCN,gCAA4D,SAArDO,KAAK,OAAOC,YAAY,Q,qCAAiBC,OAAKC,MAAK,I,4BAAVD,OAAKC,SAAK,4BAC1DV,gCAAmE,SAA5DO,KAAK,WAAWC,YAAY,Q,qCAAiBC,OAAKE,SAAQ,I,4BAAbF,OAAKE,YACzDX,gCAA6C,OAAxCD,MAAM,WAAYa,QAAK,oBAAEH,yBAAO,MACrCT,gCAAmD,UAAhDa,yBAA4CC,GAA/BC,GAAG,YAAU,C,6BAAC,IAAG,8BAAH,S,gDAOlC,MAAMC,EAAQ,KACZ,MAAMC,EAASC,iBAETC,EAAOC,sBAAS,CAAEV,MAAO,GAAIC,SAAU,KACvCU,EAAQC,UAEPH,EAAKT,OAAUS,EAAKR,UACvBY,MAAM,WAER,MAAMC,QAAYC,eAAM,CACtBC,OAAQ,OACRC,IAAK,mBACLR,KAAM,SAAWA,EAAKT,MAAQ,aAAeS,EAAKR,WAGpDiB,QAAQC,IAAIL,GACZI,QAAQC,IAAIL,EAAIL,KAAKW,MACC,MAAlBN,EAAIL,KAAKW,OAEXC,aAAaC,SAAU,EACvBD,aAAaE,MAAQT,EAAIL,KAAKc,MAC9BF,aAAaG,OAASV,EAAIL,KAAKgB,QAAQC,GAEvCnB,EAAOoB,KAAK,aAEQ,MAAlBb,EAAIL,KAAKW,MACXP,MAAMC,EAAIL,KAAKmB,UAGnB,MAAO,CAAEjB,QAAOF,SAGH,OAwBboB,QAEE,MAAM,MAAElB,EAAK,KAAEF,GAASH,IACxB,MAAO,CAAEK,QAAOF,U,iCCjEpB,MAAMqB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,qBCTfC,EAAOC,QAAU,IAA0B","file":"js/Login.a99b05a5.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Login.vue?vue&type=style&index=0&id=b4503ed6&lang=less&scoped=true\"","<template>\r\n  <div class=\"wrap\">\r\n    <img src=\"../assets/log.png\" alt=\"\">\r\n    <input type=\"text\" placeholder=\"请输入帐号\" v-model=\"data.phone\">\r\n    <input type=\"password\" placeholder=\"请输入密码\" v-model=\"data.password\">\r\n    <div class=\"loginbtn\" @click=\"login\">登录</div>\r\n    <p><router-link to=\"register\">去注册</router-link></p>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport axios from '@/request/index'\r\nconst Login = () => {\r\n  const router = useRouter()\r\n  // 定义了data数据\r\n  const data = reactive({ phone: '', password: '' })\r\n  const login = async () => {\r\n    // 非空验证\r\n    if (!data.phone || !data.password) {\r\n      alert(\"请输入完整信息\")\r\n    }\r\n    const res = await axios({\r\n      method: 'post',\r\n      url: \"/login/cellphone\",\r\n      data: 'phone=' + data.phone + '&password=' + data.password,\r\n      // headers: { \"Content-Type\": 'application/json; charset=utf-8' }\r\n    })\r\n    console.log(res);\r\n    console.log(res.data.code);\r\n    if (res.data.code === 200) {\r\n      // 登录状态的纪录\r\n      localStorage.islogin = true\r\n      localStorage.token = res.data.token\r\n      localStorage.userid = res.data.account.id\r\n      // 跳转路由 跳转到首页\r\n      router.push(\"infouser\")\r\n    }\r\n    if (res.data.code === 400) {\r\n      alert(res.data.message)\r\n    }\r\n  }\r\n  return { login, data }\r\n}\r\n\r\nexport default {\r\n  // data() {\r\n  //   return {\r\n  //     phone: '',\r\n  //     password: ''\r\n  //   }\r\n  // },\r\n  // methods: {\r\n  //   Login: async function () {\r\n  //     let res = await this.$store.dispatch('getLogin', { phone: this.phone, password: this.password })\r\n  //     console.log(res);\r\n  //     if (res.data.code === 200) {//如果返回的code等于200，说明登录成功，就跳转个人中心页面\r\n  //       this.$store.commit('updateIsLogin', true)\r\n  //       this.$store.commit('updateToken', res.data.token)\r\n  //       let result = await getLoginUser(res.data.account.id)\r\n  //       console.log(result);\r\n  //       this.$store.commit('updateUser', result)\r\n  //       this.$router.push('/infoUser')\r\n  //     } else {\r\n  //       alert(\"手机号码或者密码错误\")\r\n  //       this.password = ''\r\n  //     }\r\n  //   }\r\n  // }\r\n  setup() {\r\n    name: 'login'\r\n    const { login, data } = Login()\r\n    return { login, data }\r\n  }\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.wrap {\r\n  width: 100%;\r\n  height: 100%;\r\n  // background-color: #E3CF17;\r\n  padding-top: 1.6rem;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n\r\n  img {\r\n    width: 1.5rem;\r\n    height: 1.5rem;\r\n    border-radius: 50%;\r\n    margin-top: 1rem;\r\n    border: .1rem solid #3123C4;\r\n\r\n  }\r\n\r\n  input {\r\n    width: 70%;\r\n    height: 1rem;\r\n    border: 0;\r\n    margin-top: .3rem;\r\n    font-size: .32rem;\r\n    color: #666;\r\n    border-radius: .4rem;\r\n    background-color: #E0E0D2;\r\n    text-indent: .2rem;\r\n\r\n  }\r\n\r\n  p {\r\n    font-size: .3rem;\r\n\r\n    a {\r\n      color: #666;\r\n      margin-top: .16rem;\r\n      text-decoration: none;\r\n    }\r\n\r\n  }\r\n\r\n  .loginbtn {\r\n    width: 70%;\r\n    height: 1rem;\r\n    margin-top: .2rem;\r\n    color: white;\r\n    background-color: #424EC4;\r\n    text-align: center;\r\n    font-size: .32rem;\r\n    line-height: 1rem;\r\n    border-radius: .4rem;\r\n    margin-bottom: .4rem;\r\n\r\n  }\r\n}\r\n</style>","import { render } from \"./Login.vue?vue&type=template&id=b4503ed6&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=b4503ed6&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/wangruxing/Desktop/wrx-app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b4503ed6\"]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/log.1e928480.png\";"],"sourceRoot":""}
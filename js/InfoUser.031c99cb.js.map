{"version":3,"sources":["webpack:///./src/components/user/UserTop.vue?fe02","webpack:///./src/components/user/UserFooter.vue?5526","webpack:///./src/views/InfoUser.vue","webpack:///./src/components/user/UserFooter.vue","webpack:///./src/components/user/UserFooter.vue?c2c4","webpack:///./src/components/user/UserTop.vue","webpack:///./src/components/user/UserTop.vue?2f35","webpack:///./src/views/InfoUser.vue?3dd5"],"names":["_createElementBlock","_createVNode","_component_UserTop","_component_UserFooter","class","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_component_van_swipe","loop","width","show-indicators","_Fragment","$setup","item","_createBlock","_component_van_swipe_item","key","_component_router_link","to","path","query","id","song","src","al","picUrl","alt","_hoisted_5","GetUserData","userdata","ref","router","useRouter","getuserdata","async","userid","token","localStorage","console","log","push","res","axios","url","value","data","allData","code","message","clear","info","setup","__exports__","aria-hidden","xlink:href","_hoisted_17","_hoisted_18","_hoisted_20","_hoisted_21","backgroundUrl","srcset","onClick","_ctx","_hoisted_4","avatarUrl","_hoisted_6","_hoisted_7","nickname","_hoisted_8","mode","_hoisted_10","_hoisted_14","_hoisted_15","_hoisted_16","profile","Logout","logout","components","UserTop","UserFooter","render"],"mappings":"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","file":"js/InfoUser.031c99cb.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UserTop.vue?vue&type=style&index=0&id=21dc1372&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UserFooter.vue?vue&type=style&index=0&id=5cf1a9c4&lang=less&scoped=true\"","<template>\r\n    <div>\r\n        <UserTop />\r\n        <UserFooter />\r\n    </div>\r\n</template>\r\n<script>\r\n\r\n// @ is an alias to /src\r\n// import { getMusicItemList, getItemList } from \"@/request/api/item.js\";\r\nimport UserFooter from \"@/components/user/UserFooter.vue\";\r\nimport UserTop from \"@/components/user/UserTop.vue\";\r\n// async mounted(){\r\n//     let res2= await getItemList(5221080943);\r\n//     console.log(res2);\r\n// },\r\nexport default {\r\n    components: {\r\n        UserTop,\r\n        UserFooter,\r\n\r\n    },\r\n};\r\n</script>","<template>\n    <!-- 个人中心列表 -->\n    <div class=\"musicList\">\n        <div class=\"musicTop\">\n            <div class=\"title\">最近播放</div>\n        </div>\n        <div class=\"musicContent\">\n            <van-swipe :loop=\"false\" :width=\"150\" class=\"my-swipe\" :show-indicators=\"false\">\n                <van-swipe-item v-for=\"item in userdata \" :key=\"item\">\n                    <router-link :to=\"{ path: '/itemmusic', query: { id: item.song.id } }\">\n                        <img :src=\"item.song.al.picUrl\" alt=\"\" />\n                    </router-link>\n                </van-swipe-item>\n            </van-swipe>\n        </div>\n        <div class=\"cardList\">\n            <div class=\"card-item\">\n                <text class=\"title\">我的音乐</text>\n            </div>\n            <div class=\"card-item\">\n                <text class=\"title\">我的收藏</text>\n            </div>\n            <div class=\"card-item\">\n                <text class=\"title\">我的电台</text>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport axios from '@/request/index'\nconst GetUserData = () => {\n    const userdata = ref([])\n    const router = useRouter()\n    const getuserdata = async () => {\n        const { userid, token } = localStorage\n        console.log(userid);\n        if (!userid) {\n            console.log(\"没登录\");\n            router.push('login')\n            return\n        }\n        const res = await axios({\n            // url:\" http://localhost:8888/users/info?id=\"+userid,\n            url: \"/user/record?uid=\" + userid,\n            // headers: { \"authorization\": token }\n        })\n        console.log(res);\n        userdata.value = res.data.allData\n\n        // 登录过期\n        if (res.data.code === 400) {\n            console.log(res.data.message);\n            localStorage.clear()\n            router.push('login')\n            return\n        }\n        // 获取成功\n        if (res.data.code === 400) {\n            console.log(res.data.info);\n            userdata.value = res.data.info\n        }\n\n    }\n    return { getuserdata, userdata }\n}\n\n\nexport default {\n    setup() {\n        const { getuserdata, userdata } = GetUserData()\n        getuserdata()\n        // const { logout } = Logout()\n        return { userdata }\n    }\n}\n</script>\n<style lang=\"less\" scoped>\n.musicList {\n    width: 100%;\n    height: 5rem;\n    padding: 0.2rem;\n\n    .musicTop {\n        width: 100%;\n        height: 0.6rem;\n        display: flex;\n        justify-content: space-between;\n        margin-bottom: 0.2rem;\n        position: relative;\n\n        .title {\n            font-size: 0.4rem;\n            font-weight: 900;\n            color: #1832e7;\n            padding-left: .2rem;\n        }\n\n        .title::after {\n            content: \" \";\n            position: absolute;\n            width: .2rem;\n            height: 50%;\n            background-color: #878BC4;\n            left: 0;\n            top: 50%;\n            transform: translateY(-50%);\n        }\n\n\n    }\n\n    .musicContent {\n        width: 100%;\n        height: 3.6rem;\n\n        // background-color: #e72216;\n        .van-swipe-item {\n            position: relative;\n            height: 3.8rem;\n            padding-right: 0.2rem;\n\n            img {\n                width: 100%;\n                height: 2.5rem;\n                // padding: 0.1rem;\n                border-radius: 0.2rem;\n                box-shadow: 10px 10px 10px rgba(0, 0, 0, 0.5);\n            }\n\n\n\n        }\n    }\n\n    .cardList {\n        margin-top: -0.4rem;\n        // position: relative;\n\n        .card-item {\n            // border-top: .02rem solid #eee;\n            height: .8rem;\n            width: 100%;\n            font-size: .26rem;\n            padding: .2rem .3rem .3rem .3rem;\n            color: #333;\n            background-color: #4744C4;\n            border-radius: .2rem;\n            margin-top: .1rem;\n            // position: absolute;\n\n            .title {\n                color: white;\n                font-size: .3rem;\n            }\n        }\n    }\n}\n</style>","import { render } from \"./UserFooter.vue?vue&type=template&id=5cf1a9c4&scoped=true\"\nimport script from \"./UserFooter.vue?vue&type=script&lang=js\"\nexport * from \"./UserFooter.vue?vue&type=script&lang=js\"\n\nimport \"./UserFooter.vue?vue&type=style&index=0&id=5cf1a9c4&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/wangruxing/Desktop/wrx-app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5cf1a9c4\"]])\n\nexport default __exports__","<template>\n    <div class=\"personalContainer\">\n        <div class=\"user-section\">\n            <img :src=\"userdata.backgroundUrl\" alt=\"\" srcset=\"\" class=\"img\">\n            <div class=\"user-info-box\" @click=\"toLogin\">\n                <div class=\"portrait-box\">\n                    <img class=\"portrait\" :src=\"userdata.avatarUrl ? userdata.avatarUrl : '/src/image/logo.png'\">\n                </div>\n                <div class=\"info-box\">\n                    <text class=\"username\">{{ userdata.nickname ? userdata.nickname : '游客' }}</text>\n                </div>\n            </div>\n\n            <div class=\"vip-card-box\">\n                <img class=\"card-bg\" :src=\"userdata.backgroundUrl\" mode=\"\">\n                <div class=\"b-btn\">\n                    立即开通\n                </div>\n                <div class=\"tit\">\n                    <!-- 会员图标-->\n\n                    <svg class=\"icon\" aria-hidden=\"true\">\n                        <use xlink:href=\"#icon-huangguan1\"></use>\n                    </svg>\n                    音乐会员\n                </div>\n                <text class=\"e-m\"></text>\n                <text class=\"e-b\">开通会员听歌</text>\n            </div>\n        </div>\n\n        <!-- 个人中心导航 -->\n        <div class=\"cover-container\">\n            <div class=\"nav-section\">\n                <div class=\"nav-item\">\n                    <svg class=\"icon\" aria-hidden=\"true\">\n                        <use xlink:href=\"#icon-wodexinxi\"></use>\n                    </svg>\n                    <span>我的消息</span>\n                </div>\n                <div class=\"nav-item\" @click=\"logout\">\n                    <svg class=\"icon\" aria-hidden=\"true\">\n                        <use xlink:href=\"#icon-zhuxiaodenglu\"></use>\n                    </svg>\n                    <span>注销登录</span>\n                </div>\n                <div class=\"nav-item\" @click=\"$router.push('/')\">\n                    <svg class=\"icon\" aria-hidden=\"true\">\n                        <use xlink:href=\"#icon-zhuye\"></use>\n                    </svg>\n                    <span>个人主页</span>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</template>\n<script>\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport axios from '@/request/index'\nconst GetUserData = () => {\n    const userdata = ref([])\n    const router = useRouter()\n    const getuserdata = async () => {\n        const { userid, token } = localStorage\n        if (!userid) {\n            console.log(\"没登录\");\n            router.push('login')\n            return\n        }\n        const res = await axios({\n            // url:\" http://localhost:8888/users/info?id=\"+userid,\n            url: \"/user/detail?uid=\" + userid,\n            // headers: { \"authorization\": token }\n        })\n        console.log(res.data.profile);\n        userdata.value = res.data.profile\n        // // 登录过期\n        if (res.data.code === 400) {\n            console.log(res.data.message);\n            localStorage.clear()\n            router.push('login')\n            return\n        }\n        // 获取成功\n        if (res.data.code === 400) {\n\n            console.log(res.data.info);\n            userdata.value = res.data.info\n        }\n\n    }\n    return { getuserdata, userdata }\n}\n// 注销登录功能\nconst Logout = () => {\n    const router = useRouter()\n    const logout = async () => {\n        const { userid, token } = localStorage\n        const res = await axios({\n            // url:\"http://localhost:8888/users/logout?id=\"+userid,\n            url: \"/logout\",\n            // headers: { \"authorization\": token }\n        })\n        console.log(res.data);\n        if (res.data.code === 200) {\n            localStorage.clear()\n            router.push('login')\n        }\n\n    }\n    return { logout }\n}\nexport default {\n    setup() {\n        const { getuserdata, userdata } = GetUserData()\n        getuserdata()\n        const { logout } = Logout()\n        return { userdata, logout }\n    }\n}\n</script>\n<style lang=\"less\">\n/* pages/personal/personal.wxss */\n.personalContainer {\n    width: 100%;\n    height: 100%;\n\n    .user-section {\n        height: 7.2rem;\n        position: relative;\n        padding: 1rem .6rem 0;\n        // background-color: #3123C4;\n\n        .img {\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 100%;\n            opacity: 0.9;\n            filter: blur(.02rem);\n            border-radius: 0 0 .2rem .2rem;\n        }\n\n        .user-info-box {\n            height: 1.8rem;\n            display: flex;\n            align-items: center;\n            position: relative;\n            z-index: 1;\n\n            .portrait-box {\n                .portrait {\n                    width: 1.3rem;\n                    height: 1.3rem;\n                    border: .1rem solid #fff;\n                    border-radius: 50%;\n                }\n            }\n\n            .info-box {\n                .username {\n                    font-size: 24;\n                    color: #fff;\n                    margin-left: .2rem;\n                }\n            }\n\n        }\n\n        .vip-card-box {\n            position: relative;\n            display: flex;\n            flex-direction: column;\n            /*  background: linear-gradient(left, red, black); */\n            background: linear-gradient(to bottom right, white, #7478C4);\n            height: 2.8rem;\n            color: #f7d680;\n            border-radius: .2rem;\n            padding: .2rem .24rem;\n\n            .card-bg {\n                position: absolute;\n                top: .2rem;\n                right: .2rem;\n                width: 4rem;\n                height: 2.5rem;\n                background: linear-gradient(to bottom right, white, #7478C4);\n                border-radius: .3rem;\n            }\n\n            .b-btn {\n                position: absolute;\n                right: .3rem;\n                top: .32rem;\n                width: 1.5rem;\n                height: .4rem;\n                text-align: center;\n                line-height: .4rem;\n                font-size: .22rem;\n                color: #36343c;\n                border-radius: .2rem;\n                background: #f7d680;\n                z-index: 1;\n            }\n\n            .tit {\n                font-size: .22rem;\n                color: #fff;\n                margin-bottom: .28rem;\n                // text-align: center;\n                // position: relative;\n\n\n                .icon {\n                    // color: #f6e5a3;\n                    // position: absolute;\n                    margin-right: .1rem;\n                    // text-align: center;\n\n                }\n            }\n\n            .e-m {\n                font-size: .34rem;\n                margin-top: .1rem;\n            }\n\n            .e-b {\n                font-size: .24rem;\n                color: #fff;\n                margin-top: .1rem;\n            }\n        }\n    }\n\n    // .cover-container {\n    //     margin-top: -1.2rem;\n    //     padding: 0 .3rem;\n    //     height: 25%;\n    //     // background: #f5f5f5;\n    //     background: linear-gradient(to bottom right, white, #413DC4);\n    //     padding-bottom: .1rem;\n    // 层级太深路由跳转无反应\n    .nav-section {\n        margin-top: .1rem;\n        display: flex;\n        // background: #fff;\n        background: linear-gradient(to bottom right, white, #7478C4);\n        height: 100%;\n        padding: .1rem .2rem;\n        border-radius: .2rem;\n        justify-content: space-around;\n\n        .nav-item {\n            // width: 25%;\n            box-sizing: border-box;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: space-around;\n\n            .icon {\n                font-size: .5rem;\n                line-height: .7rem;\n            }\n\n            span:last-child {\n                font-size: .25rem;\n                color: #fff;\n\n            }\n        }\n\n    }\n}\n\n// }\n</style>","import { render } from \"./UserTop.vue?vue&type=template&id=21dc1372\"\nimport script from \"./UserTop.vue?vue&type=script&lang=js\"\nexport * from \"./UserTop.vue?vue&type=script&lang=js\"\n\nimport \"./UserTop.vue?vue&type=style&index=0&id=21dc1372&lang=less\"\n\nimport exportComponent from \"/Users/wangruxing/Desktop/wrx-app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./InfoUser.vue?vue&type=template&id=592f0a6d\"\nimport script from \"./InfoUser.vue?vue&type=script&lang=js\"\nexport * from \"./InfoUser.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/wangruxing/Desktop/wrx-app/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}